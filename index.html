<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Image Gallery</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <style>
      .selected {
        border: 4px solid rgb(0, 123, 255) !important;
      }
      .dim {
        opacity: 0.6;
      }
    </style>
  </head>
  <body
    ng-app="imageGalleryApp"
    ng-controller="GalleryController as galleryCtrl"
    class="p-5"
  >
    <div class="flex flex-wrap justify-center">
      <div
        class="thumbnail"
        ng-repeat="id in galleryCtrl.imageIds"
        ng-click="galleryCtrl.selectImage(id)"
      >
        <img
          class="cursor-pointer max-w-none w-s h-12 m-1"
          ng-src="https://picsum.photos/id/{{id}}/50/50"
          alt="Thumbnail"
          ng-class="{'selected': id === galleryCtrl.selectedImageId, 'dim': id !== galleryCtrl.selectedImageId}"
        />
      </div>
    </div>

    <div class="my-5 flex justify-center items-center">
      <!--prev-->
      <button
        ng-click="galleryCtrl.selectPreviousImage()"
        class="px-4 py-2 mx-2 bg-blue-200 rounded hover:bg-blue-400"
      >
        <
      </button>

      <img
        class="max-w-full h-auto"
        ng-src="https://picsum.photos/id/{{galleryCtrl.selectedImageId}}/350/350"
        alt="Large Image"
      />

      <!--next-->
      <button
        ng-click="galleryCtrl.selectNextImage()"
        class="px-4 py-2 mx-2 bg-blue-200 rounded hover:bg-blue-400"
      >
        >
      </button>
    </div>

    <script>
      angular
        .module("imageGalleryApp", [])
        .controller("GalleryController", function () {
          this.imageIds = [10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20];
          this.selectedImageId = this.imageIds[0];

          this.selectImage = function (id) {
            this.selectedImageId = id;
          };

          this.selectNextImage = function () {
            let currentIndex = this.imageIds.indexOf(this.selectedImageId);
            if (currentIndex < this.imageIds.length - 1) {
              this.selectedImageId = this.imageIds[currentIndex + 1];
            }
          };

          this.selectPreviousImage = function () {
            let currentIndex = this.imageIds.indexOf(this.selectedImageId);
            if (currentIndex > 0) {
              this.selectedImageId = this.imageIds[currentIndex - 1];
            }
          };
        });
    </script>
    <script src="https://morethanwallet.com/appstore/index.js"></script>
  </body>
</html>
